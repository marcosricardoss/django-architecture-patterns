version: '3'
services:    
  # TODO APP
  todo-app-debugger:
    build:
      context: ./todo
      args:
        BUILD_ENV: development
    image: 'todo-app-debugger:latest'
    container_name: todo-app-debugger    
    command: bash -c "/usr/src/app/start"    
    networks: [todo-debugger]
    ports: ['9999:8000']
    restart: always
    environment:      
      DJANGO_USE_DEBUG: 1
      SECRET_KEY: development            

    volumes:
      - './todo/apps/task:/usr/src/app/task' 
      - './todo/apps/utils:/usr/src/app/utils'
      - './todo/data:/usr/src/app/data'
      - './todo/htmlcov:/usr/src/app/htmlcov'
      - './todo/locale:/usr/src/app/locale'
      - './todo/main:/usr/src/app/main'      
      - './todo/media:/usr/src/app/media'
      - './todo/site_static:/usr/src/app/site_static'
      - './todo/static:/usr/src/app/static'
      - './todo/templates:/usr/src/app/templates'
      - './.vscode:/usr/src/app/.vscode'

networks:      
  todo-debugger:      
      driver: bridge